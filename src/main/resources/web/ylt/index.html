<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<title>亿路通</title>
	
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">
	<script type="application/x-javascript">
		addEventListener("load", function () {
			setTimeout(hideURLbar, 0);
		}, false);

		function hideURLbar() {
			window.scrollTo(0, 1);
		}
	</script>
	<!--// Meta tag Keywords -->

	<link rel="stylesheet" th:href="@{/css/owl.carousel.css}" type="text/css" media="all">
	<link rel="stylesheet" th:href="@{/css/owl.theme.css}" type="text/css" media="all">
	<!-- css files -->
	<link rel="stylesheet" th:href="@{/css/bootstrap.css}"> <!-- Bootstrap-Core-CSS -->
	<link rel="stylesheet" th:href="@{/css/style.css}" type="text/css" media="all" /> <!-- Style-CSS -->
	<link rel="stylesheet" th:href="@{/css/fontawesome-all.css}"> <!-- Font-Awesome-Icons-CSS -->
	<!-- //css files -->
	<link th:href="@{/layui/css/layui.css}" rel="stylesheet"/>
	<link th:href="@{/css/ladda-theme.css}" rel="stylesheet"/>
	<!-- web-fonts -->
	<link href="//fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&amp;subset=latin-ext" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet" />
    <!-- //web-fonts -->
    <script type="text/javascript" th:src="@{/js/jquery-2.1.4.min.js}"></script>
	<script type="text/javascript" th:src="@{/js/encode64.js}"></script>
	<script type="text/javascript" th:src="@{/js/ladda.min.js}"></script>
	<script type="text/javascript" th:src="@{/js/spin.min.js}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

    <style>
		#yesLogin a{
			margin-left: 20px;
		}
	</style>


</head>

<body>
<div class="top-bar_sub_w3layouts container-fluid">
	<div class="row">

		<div class="col-md-4 col-sm-6 log-icons mt-2">
			<p class="py-2"><i class="fas fa-phone"></i> 服务热线 : 12(00) 123 1234</p>
		</div>

		<div class="col-md-4 col-sm-6 logo">
			<a class="navbar-brand" href="index.html">
				<i class="fas fa-car"></i> 亿路通租车</a>
		</div>


		<div id="noLogin" class="col-md-4 top-forms mt-md-3 mt-2 mb-md-0 mb-3">
				<span class="mx-lg-4 mx-md-2  mx-1">
					<a href="#" data-toggle="modal" aria-pressed="false" data-target="#loginPanel">
						<i class="fas fa-lock"></i> 登录</a>
				</span>
			<span>
					<a href="#" data-toggle="modal" data-target="#registeredPanel">
						<i class="fas fa-user"></i> 注册</a>
				</span>

		</div>

		<div id="yesLogin" class="col-md-4 top-forms mt-md-3 mt-2 mb-md-0 mb-3">
			<a id="nameSpan" href="#"><i class="fas fa-user"></i> </a>
			<a href="#" data-toggle="modal" aria-pressed="false" data-target="#changePass">
				<i class="fas fa-lock"></i> 修改密码</a>
			<a th:href="@{/route/logout}">
				<i class="fas fa-outdent"></i> 退出</a>
		</div>
	</div>
</div>
<div class="banner" id="home">
	<!-- header -->
	<header>
		<nav class="navbar navbar-expand-lg navbar-light bg-light top-header">
			<button class="navbar-toggler mx-auto" type="button" data-toggle="collapse"
					data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
					aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav mx-auto">
					<li class="nav-item active">
						<a class="nav-link ml-lg-0" href="index.html">首页
							<span class="sr-only">(current)</span>
						</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" th:href="@{/route/browseVehicle}">立即选车</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" th:href="@{/order/order}">我的订单</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" th:href="@{/order/order}">帮助信息</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" th:href="@{/order/order}">关于我们</a>
					</li>
				</ul>

			</div>
		</nav>
	</header>
	<!-- //header -->
	<!-- banner-text -->
	<div id="wrapper">

		<!-- Slideshow 1 -->
		<div class="rslides_container">
			<ul class="rslides" id="slider1">
				<li>
					<div class="banner-img">
						<div class="bs-slider-overlay">
							<div class="banner-info text-center">
								<span class="fas fa-car"></span>
								<h1>7 X 24小时租车服务</h1>
								<h2 class="mb-5"><i class="fas fa-heart"></i> 方便快捷</h2>
								<a th:href="@{/route/browseVehicle}">立即选车</a>
							</div>
						</div>
					</div>
				</li>
				<li>
					<div class="banner-img one">
						<div class="bs-slider-overlay">
							<div class="banner-info text-center">
								<span class="fas fa-car"></span>
								<h4>在线预订车辆</h4>
								<h5 class="mb-5"><i class="fas fa-money-bill-alt"></i> 没有额外费用</h5>
								<a th:href="@{/route/browseVehicle}">立即选车</a>
							</div>
						</div>
					</div>
				</li>
				<li>
					<div class="banner-img two">
						<div class="bs-slider-overlay">
							<div class="banner-info text-center">
								<span class="fas fa-car"></span>
								<h4>保证你的旅行安全</h4>
								<h5 class="mb-5"><i class="fas fa-road"></i> 无后顾之忧</h5>
								<a th:href="@{/route/browseVehicle}">立即选车</a>
							</div>
						</div>
					</div>
				</li>
				<li>
					<div class="banner-img three">
						<div class="bs-slider-overlay">
							<div class="banner-info text-center">
								<span class="fas fa-car"></span>
								<h4>自驾出行</h4>
								<h5 class="mb-5"><i class="fas fa-star"></i> 安心之选</h5>
								<a th:href="@{/route/browseVehicle}">立即选车</a>
							</div>
						</div>
					</div>
				</li>

			</ul>
		</div>
	</div>
</div>
<section class="food-Slider py-5">
	<div class="container py-lg-5">
		<h3 class="heading text-capitalize text-center">Our Taxi Cars</h3>
		<h5 class="heading mb-5 text-center">Taxi Cab</h5>
		<div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
			<div class="carousel-inner">
				<div class="carousel-item active">
					<div class="row">
						<div class="col-md-4 col-sm-6 slidering">
							<div class="thumbnail"><img th:src="@{/images/1.png}" alt="Image" style="max-width:100%;">
							</div>
							<h5 class="my-2 text-center text-uppercase">Mini Taxi </h5>
						</div>
						<div class="col-md-4 col-sm-6 slidering">
							<div class="thumbnail"><img th:src="@{/images/2.png}" alt="Image" style="max-width:100%;">
							</div>
							<h5 class="my-2 text-center text-uppercase">Prime Taxi </h5>
						</div>
						<div class="col-md-4 col-sm-6 slidering">
							<div class="thumbnail"><img th:src="@{/images/3.png}" alt="Image" style="max-width:100%;">
							</div>
							<h5 class="my-2 text-center text-uppercase">Sedan Taxi </h5>
						</div>
					</div>
				</div>
				<div class="carousel-item">
					<div class="row">
						<div class="col-md-4 col-sm-6 slidering">
							<div class="thumbnail"><img th:src="@{/images/1.png}" alt="Image" style="max-width:100%;">
							</div>
							<h5 class="my-2 text-center text-uppercase">Mini Taxi </h5>
						</div>
						<div class="col-md-4 col-sm-6 slidering">
							<div class="thumbnail"><img th:src="@{/images/2.png}" alt="Image" style="max-width:100%;">
							</div>
							<h5 class="my-2 text-center text-uppercase">Prime Taxi </h5>
						</div>
						<div class="col-md-4 col-sm-6 slidering">
							<div class="thumbnail"><img th:src="@{/images/1.png}" alt="Image" style="max-width:100%;">
							</div>
							<h5 class="my-2 text-center text-uppercase">Sedan Taxi </h5>
						</div>
					</div>
				</div>
				<div class="carousel-item">
					<div class="row">
						<div class="col-md-4 col-sm-6 slidering">
							<div class="thumbnail"><img th:src="@{/images/2.png}" alt="Image" style="max-width:100%;">
							</div>
							<h5 class="my-2 text-center text-uppercase">Mini Taxi </h5>
						</div>
						<div class="col-md-4 col-sm-6 slidering">
							<div class="thumbnail"><img th:src="@{/images/1.png}" alt="Image" style="max-width:100%;">
							</div>
							<h5 class="my-2 text-center text-uppercase">Prime Taxi </h5>
						</div>
						<div class="col-md-4 col-sm-6 slidering">
							<div class="thumbnail"><img th:src="@{/images/3.png}" alt="Image" style="max-width:100%;">
							</div>
							<h5 class="my-2 text-center text-uppercase">Sedan Taxi </h5>
						</div>
					</div>
				</div>
			</div>
			<a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
				<span class="fa fa-chevron-left" aria-hidden="true"></span>
				<span class="sr-only">Previous</span>
			</a>
			<a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
				<span class="fa fa-chevron-right" aria-hidden="true"></span>
				<span class="sr-only">Next</span>
			</a>
		</div>
	</div>
</section>
<section class="services py-5">
	<div class="container py-lg-5">
		<h1 class="heading text-capitalize text-center">Our Services</h1>
		<h5 class="heading mb-5 text-center">Taxi Cab</h5>
		<div class="row service-grids">
			<div class="col-lg-4">
				<h3 class="text-capitalize mb-3">We have a range of vehicles</h3>
				<p class="mb-3">Vestibulum et augue eu nibh tincidunt pretium vitae eget purus. Pellentesque necist urna eleifend, semper eros sed, sollicitudin justo. Nam finibus sollicitudin enim, nec blan ditmi laoreet sed. Morbi auctor purus ac ligula aliquetis vestibulum. Quisque vitae sollicitu dinet augue eu pretium vitae.</p>
			</div>
			<div class="col-lg-2 col-6">
				<img src="images/1.png" alt="" class="img-fluid" />
				<img src="images/2.png" alt="" class="img-fluid" />
				<img src="images/3.png" alt="" class="img-fluid" />
			</div>

			<div class="col-lg-4">
				<h4 class="text-capitalize"><i class="fas fa-taxi clr1"></i>Luxury Cars</h4>
				<p class="mb-4"> Vestibulum et augue eunibh metus diam.</p>
				<h4 class="text-capitalize"><i class="fas fa-bus clr2"></i>Luxury Vans</h4>
				<p class="mb-4"> Vestibulum et augue eunibh metus diam.</p>
				<h4 class="text-capitalize"><i class="fas fa-car clr3"></i>Luxury Elite</h4>
				<p class="mb-4"> Vestibulum et augue eunibh metus diam laoreet.</p>
			</div>
			<div class="col-lg-2 col-6">
				<img src="images/3.png" alt="" class="img-fluid" />
				<img src="images/1.png" alt="" class="img-fluid" />
				<img src="images/2.png" alt="" class="img-fluid" />
			</div>
		</div>
	</div>
</section>
<footer class="py-sm-5 py-4 px-md-5 px-3">
	<div class="container-fluid pt-lg-5">
		<div class="row">
			<div class="col-lg-3 col-sm-6 mb-lg-0 mb-5 footer-grid-agileits-w3ls1 text-left">
				<h3 class="mb-sm-5 mb-4 mt-sm-0 mt-4">About Company</h3>	
				<p>Vestibulum vitae libero consectetur, orn areeros id, congue metus. Aliquam erat volutpat. Donec rhoncus risus vitae ullam corper pretium. Duis vitae nisl neque. Aliquam tincidunt, tellus quis hendrerit tincidunt congue metus. </p>
				<a href="#" class="read">Know More <i class="fas fa-caret-right"></i></a>
			</div>
			<div class="col-lg-3 col-sm-6 mb-lg-0 mb-5 footer-grid-agileits-w3ls1 text-left">
				<h3 class="mb-sm-5 mb-4">Locate Us</h3>	
				<ul class="w3ls-footer-bottom-list">
					<li> <span class="fas fa-map-marker"></span> 3481 Jack Street Beverly Jack Hills<span> 90210 Block, USA </span></li>
					<li> <span class="fas fa-envelope"></span> <a href="mailto:name@example.com"> mail@example.com</a> </li>
					<li> <span class="fas fa-phone"></span> +112 367 896 2449 </li>
					<li> <span class="fas fa-fax"></span> +112 367 896 2449 </li>
					<li> <span class="fas fa-globe"></span> <a href="#"> www.websitename.com</a> </li>
					<li> <span class="fas fa-clock"></span> Office Time  : 8:00 a.m - 6:00 p.m</li>
				</ul>
			</div>
			<div class="col-lg-3 col-sm-6 mb-sm-0 mb-5 footer-grid-agileits-w3ls text-left">
				<div class="tech-btm">
					<h3 class="mb-sm-5 mb-4">Latest Posts</h3>
					<div class="blog-grids row mb-3">
						<div class="col-4 pr-0 blog-grid-left">
							<a href="#">
								<img th:src="@{/images/blog1.jpg}" class="img-fluid" alt="">
							</a>
						</div>
						<div class="col-8 blog-grid-right">

							<h5>
								<a href="#">Pellentesque dui, non felis. Maecenas male non felis </a>
							</h5>
							<div class="sub-meta">
								<span>
									<i class="far fa-clock"></i> 19 Apr, 2018</span>
							</div>
						</div>
						
					</div>
					<div class="blog-grids row mb-3">
						<div class="col-4 pr-0 blog-grid-left">
							<a href="#">
								<img th:src="@{/images/blog2.jpg}" class="img-fluid" alt="">
							</a>
						</div>
						<div class="col-8 blog-grid-right">

							<h5>
								<a href="#">Pellentesque dui, non felis. Maecenas male non felis </a>
							</h5>
							<div class="sub-meta">
								<span>
									<i class="far fa-clock"></i> 20 Apr, 2018</span>
							</div>
						</div>
						
					</div>
					<div class="blog-grids row">
						<div class="col-4 pr-0 blog-grid-left">
							<a href="#">
								<img th:src="@{/images/blog3.jpg}" class="img-fluid" alt="">
							</a>
						</div>
						<div class="col-8 blog-grid-right">

							<h5>
								<a href="#">Pellentesque dui, non felis. Maecenas male non felis </a>
							</h5>
							<div class="sub-meta">
								<span>
									<i class="far fa-clock"></i> 21 Apr, 2018</span>
							</div>
						</div>
						
					</div>
				</div>
			</div>
			<!-- subscribe -->
			<div class="col-lg-3 col-sm-6 subscribe-main footer-grid-agileits-w3ls text-left">
				<h3 class="mb-sm-5 mb-4">Newsletter</h3>
				<div class="subscribe-main text-left">
					<div class="subscribe-form">
						<form action="#" method="post" class="subscribe_form">
							<input class="form-control" type="email" placeholder="Enter Your Email..." required="">
							<button type="submit" class="btn1 btn-primary submit"><i class="fas fa-paper-plane" aria-hidden="true"></i></button>
						</form>
				   </div>
				</div>
				<!-- //subscribe -->
				<div class="footer-social">
				<div class="copyrighttop">
				<h3 class="mb-sm-5 mb-4">Stay In Touch</h3>
					<ul>
						<li class="mr-1">
							<a class="facebook" href="#">
								<i class="fab fa-facebook-f"></i>
							</a>
						</li>
						<li class="mr-1">
							<a class="facebook" href="#">
								<i class="fab fa-twitter"></i>
							</a>
						</li>
						<li class="mr-1">
							<a class="facebook" href="#">
								<i class="fab fa-google-plus-g"></i>
							</a>
						</li>
						<li class="mr-1">
							<a class="facebook" href="#">
								<i class="fab fa-pinterest-p"></i>
							</a>
						</li>
						<li>
							<a class="facebook" href="#">
								<i class="fab fa-linkedin-in"></i>
							</a>
						</li>
					</ul>

				</div>
			</div>
			</div>
		</div>
		<!-- copyright -->
		<div class="footer-cpy text-center pt-sm-5 mt-sm-5 mt-4 pt-3">
			<div class="w3layouts-agile-copyrightbottom">
				<p>© 2018 Taxi Cab. All Rights Reserved | Design by
					<a href="http://w3layouts.com/">W3layouts</a>
				</p>

			</div>
		</div>
		<!-- //copyright -->
	</div>
</footer>
<!-- //footer -->
			
<!-- login and register modal -->
<div class="modal fade" id="loginPanel" tabindex="-1" role="dialog" aria-labelledby="loginModel" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="loginModel">登录你的账户</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<div class="form-group">
					<label for="username" class="col-form-label">用户名</label>
					<input type="text" class="form-control" placeholder="用户名" id="username" required>
				</div>
				<div class="form-group">
					<label for="password" class="col-form-label">密码</label>
					<input type="password" class="form-control" placeholder="密码" id="password" required>
				</div>

				<div class="right-w3l">
					<input type="submit" id="sub" class="form-control" value="登录">
				</div>
				<p class="text-center dont-do text-white mt-3">没有账户?
					<a href="#" data-toggle="modal" data-target="#registeredPanel" class="text-white">
						立即注册</a>
				</p>
			</div>
		</div>
	</div>
</div>

<div class="modal fade" id="changePass" tabindex="-1" role="dialog" aria-labelledby="changePassModel" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="changePassModel">修改密码</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<div class="form-group">
					<label for="oldPassword" class="col-form-label">旧密码</label>
					<input type="password" class="form-control" lay-verify="pass" placeholder="旧密码" id="oldPassword" required="">
				</div>
				<div class="form-group">
					<label for="newPassword" class="col-form-label">新密码</label>
					<input type="password" class="form-control" lay-verify="pass" placeholder="新密码" id="newPassword" required="">
				</div>
				<div class="form-group">
					<label for="conPassword" class="col-form-label">确认密码</label>
					<input type="password" class="form-control" lay-verify="pass" placeholder="确认密码" id="conPassword" required="">
				</div>

				<div class="right-w3l">
                    <input type="hidden" id="accountId" />
					<input type="submit" id="subPass" class="form-control" value="确认">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="modal fade" id="registeredPanel" tabindex="-1" role="dialog" aria-labelledby="regModel" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="regModel">注册你的账户</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<form class="layui-form" action="">
					<div class="form-group">
						<label for="recipient-name" class="col-form-label">用户名</label>
						<input type="text" class="form-control" lay-verify="username" placeholder="用户名" name="username" id="recipient-name" required="">
					</div>
					<div class="form-group">
						<label for="recipient-email" class="col-form-label">邮箱</label>
						<input type="email" class="form-control" lay-verify="mail" placeholder="邮箱" name="mail" id="recipient-email" required="">
					</div>
					<div class="form-group">
						<label for="password1" class="col-form-label">密码</label>
						<input type="password" class="form-control" lay-verify="pass" placeholder="密码" name="password" id="password1" required="">
					</div>
					<div class="form-group">
						<label for="password2" class="col-form-label">确认密码</label>
						<input type="password" class="form-control" lay-verify="pass" placeholder="确认密码" name="ConfirmPassword" id="password2" required="">
					</div>

					<div class="right-w3l">
						<input type="button" id="regsub" class="form-control" value="注册">
						<button style="display: none" id="subForm" class="layui-btn" lay-submit lay-filter="subForm">提交</button>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>

	<script type="text/javascript" th:src="@{/js/bootstrap.js}"></script> <!-- Necessary-JavaScript-File-For-Bootstrap -->
	<script th:src="@{/js/owl.carousel.js}"></script>
	<script>
		$(document).ready(function () {
			$('.owl-carousel').owlCarousel({
				loop: true,
				margin: 10,
				responsiveClass: true,
				responsive: {
					0: {
						items: 1,
						nav: true
					},
					600: {
						items: 1,
						nav: false
					},
					900: {
						items: 2,
						nav: false
					},
					1000: {
						items: 3,
						nav: true,
						loop: false,
						margin: 20
					}
				}
			})
		})
	</script>
	<script th:src="@{/js/responsiveslides.min.js}"></script>
	<script th:src="@{/js/SmoothScroll.min.js}"></script>
	<script type="text/javascript" th:src="@{/js/move-top.js}"></script>
	<script type="text/javascript" th:src="@{/js/easing.js}"></script>
	<script type="text/javascript">
		jQuery(document).ready(function($) {
			$(".scroll").click(function(event){		
				event.preventDefault();
				$('html,body').animate({scrollTop:$(this.hash).offset().top},1000);
			});
		});
	</script>
<script th:src="@{/layui/layui.js}"></script>
<script type="text/javascript" th:inline="javascript">
    /*<![CDATA[*/
	$(function(){
        $("#slider1").responsiveSlides({
            auto: true,
            pager: true,
            nav: true,
            speed: 500,
            namespace: "centered-btns"
        });
		$().UItoTop({ easingType: 'easeOutQuart' });
		var account = [[${account}]];
		if(account){
            $("#noLogin").hide();
            $("#yesLogin").show();
            $("#nameSpan").append(account.username);
            $("#accountId").val(account.id);
        }else{
            $("#noLogin").show();
            $("#yesLogin").hide();
		}
	});
    layui.use(['layer','form'],function(){
        var layer = layui.layer;
        var form = layui.form;
        //登录的点击事件
        $("#sub").on("click",function(){
            login();
        });
		$("#regsub").on("click",function(){
			$("#subForm").click();
		});
        $("#subPass").on("click",function(){
            editPass();
        });
		function editPass(){
			var passwordO = $("#oldPassword").val();
			var password = $("#newPassword").val();
			var conPassword = $("#conPassword").val();
			var id = $("#accountId").val();
            var index_ = layer.load(1);
            if(password !== conPassword){
                toastr.warning("两次密码输入不一致");
                layer.close(index_);
                return false;
            }
            password = encode64(password);
            passwordO = encode64(passwordO);
            $.ajax({
                url:[[@{user/update}]],
            	data:{"password":password,"passwordO":passwordO,"id":id},
                type:"post",
                dataType:"json",
                success:function(result){
                if(result.success){
                    toastr.success("保存成功");
                    window.location = [[@{/}]];
                }else{
                        toastr.warning(result.msg);

                }
                layer.close(index_);
            },
        });

		}

        function login(){
            var username = $("#username").val();
            var password = $("#password").val();
            var empPattern = /^\s*$/;
            if (empPattern.test(username) || empPattern.test(password)){
                toastr.warning("用户名或密码不能为空");
                return;
            }
            password = encode64(password);
            $.ajax({
                url:[[@{/login}]],
                data:{"username":username,"password":password, "type":"2"},
                type:"post",
                    dataType:"json",
                    success:function(result){
                    if(result.success){
                        window.location.reload();
                        }else{
                            toastr.warning(result.msg);
                        }
                    }
                })
        }

		form.verify({
			pass: [
				/^[\S]{6,12}$/
				,'密码必须6到12位，且不能出现空格'
			],
			username: [
				/^[a-zA-Z0-9_-]{4,16}$/
				,'用户名必须4到16位（数字，字码，下划线，减号）'
			],
			mail: [
				/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/
				,'邮箱格式错误'
			]
		});
        //监听提交
        form.on('submit(subForm)', function(data){
            console.log(data);
            if(data.field.password !== data.field.ConfirmPassword){
                layer.msg("两次密码输入不一致");
                return false;
            }
            data.field.ConfirmPassword = "";
            data.field.password = encode64(data.field.password);
            $.ajax({
                url:[[@{/user/saveUser}]],
            	data:data.field,
                type:"post",
                dataType:"json",
                success:function(result){
                if(result.success){
                    layer.msg("保存成功，请登录");
                    window.location=[[@{/}]]
                    }else{
                        layer.msg(result.msg);
                    }
                },

            });
            return false;
        });
    })
    /*]]>*/
</script>

</body>
</html>